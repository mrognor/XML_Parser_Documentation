<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Xml parser: Xml parser</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Xml parser<span id="projectnumber">&#160;0.0.1</span>
   </div>
   <div id="projectbrief">Simple c++ xml parser</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('index.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Xml parser </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a href="https://mrognor.github.io/XML_Parser_Documentation/doc/html/index.html">Documentation available here</a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Limitations</h1>
<ol type="1">
<li>Tag with xml specification ignoring</li>
<li>XML DTD not supporting</li>
</ol>
<h1><a class="anchor" id="autotoc_md1"></a>
Usage examples</h1>
<h2><a class="anchor" id="autotoc_md2"></a>
Checking data for validity and saving it</h2>
<ol type="1">
<li>This function will read the file, check the file data for validity, and if the data is valid, it will write them to the class object <div class="fragment"><div class="line">xmlp::XmlParser p;</div>
<div class="line"> </div>
<div class="line">if (p.ValidateFile(&quot;path_to_file/file_with_xml_data.xml&quot;))</div>
<div class="line">    std::cout &lt;&lt; &quot;true&quot; &lt;&lt; std::endl;</div>
<div class="line">else </div>
<div class="line">    std::cout &lt;&lt; &quot;false&quot; &lt;&lt; std::endl;</div>
</div><!-- fragment --></li>
<li>This function will check the string for validity, and if the string is valid, it will write them to the class object <div class="fragment"><div class="line">xmlp::XmlParser p;</div>
<div class="line"> </div>
<div class="line">if (p.ValidateString(&quot;&lt;string&gt;&lt;with&gt;&lt;xml&gt;&lt;data&gt;&lt;to&gt;&lt;validate&gt; data &lt;/validate&gt;&lt;/to&gt;&lt;/data&gt;&lt;/xml&gt;&lt;/with&gt;&lt;string&gt;&quot;))</div>
<div class="line">    std::cout &lt;&lt; &quot;true&quot; &lt;&lt; std::endl;</div>
<div class="line">else </div>
<div class="line">    std::cout &lt;&lt; &quot;false&quot; &lt;&lt; std::endl;</div>
</div><!-- fragment --></li>
<li>This function will check the string vector for validity, and if the data is valid, it will write them to the class object Note that the function will work correctly even if the vector elements do not match the xml elements. <div class="fragment"><div class="line">xmlp::XmlParser p;</div>
<div class="line"> </div>
<div class="line">if (p.ValidateVectorOfStrings({&quot;&lt;vector&gt;&quot;, &quot;&lt;with&gt;&quot;, &quot;&lt;strings&gt;&quot;,</div>
<div class="line">    &quot;&lt;to&gt;&lt;validate&gt; data &lt;/vali&quot;, &quot;date&gt;&lt;/to&gt;&quot;,</div>
<div class="line">    &quot;&lt;/strings&gt;&quot;, &quot;&lt;/with&gt;&quot;, &quot;&lt;/vector&gt;&quot;});)</div>
<div class="line">std::cout &lt;&lt; &quot;true&quot; &lt;&lt; std::endl;</div>
<div class="line">else </div>
<div class="line">    std::cout &lt;&lt; &quot;false&quot; &lt;&lt; std::endl;</div>
</div><!-- fragment --></li>
<li>This function will check the container with strings for validity, and if the data is valid, it will write them to the class object. It can handle any iterable container Note that the function will work correctly even if the container elements do not match the xml elements. <div class="fragment"><div class="line">xmlp::XmlParser p;</div>
<div class="line"> </div>
<div class="line">std::list&lt;std::string&gt; listWithXmlData = {&quot;&lt;list&gt;&quot;, &quot;&lt;with&gt; &lt;xml&gt; &lt;data&gt; &lt;/data&gt; &lt;/xml&gt; &lt;/with&gt;&quot;, &quot;&lt;/list&gt;&quot;};</div>
<div class="line">if (p.ValidateContainerWithStrings(listWithXmlData))</div>
<div class="line">    std::cout &lt;&lt; &quot;true&quot; &lt;&lt; std::endl;</div>
<div class="line">else </div>
<div class="line">    std::cout &lt;&lt; &quot;false&quot; &lt;&lt; std::endl;</div>
</div><!-- fragment --></li>
</ol>
<h2><a class="anchor" id="autotoc_md3"></a>
XML data processing</h2>
<p >The simplest way to process data is a regular for loop </p><div class="fragment"><div class="line">xmlp::XmlParser p;</div>
<div class="line"> </div>
<div class="line">if (p.ValidateFile(&quot;xml_files/parsing_tests.xml&quot;))</div>
<div class="line">    std::cout &lt;&lt; &quot;true&quot; &lt;&lt; std::endl;</div>
<div class="line">else </div>
<div class="line">    std::cout &lt;&lt; &quot;false&quot; &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">std::cout &lt;&lt; std::endl;</div>
<div class="line"> </div>
<div class="line">for (auto it = p.GetData().begin(); it != p.GetData().end(); it++)</div>
<div class="line">{</div>
<div class="line">    // Data processing</div>
<div class="line">}</div>
</div><!-- fragment --><p> Each element of the list with xml data contains the following information:</p><ul>
<li>DataType - The data type in the current element. For more information see <a href="https://mrognor.github.io/XML_Parser_Documentation/doc/html/namespacexmlp.html#a7dfdf690ac1440f989a5f1321770484e">XmlDataType</a></li>
<li>Path - Data path. Format: /path/to/data</li>
<li>TagName - Tag name, if the list item stores a tag, if the list item does not store a tag, then this variable is empty</li>
<li>ParamsAndValues - Map, where the keys are tag parameters, and the values of the keys are the values of the corresponding tag parameters , if the list item stores a tag, if the list item does not store a tag, then this variable is empty</li>
<li>Data - Raw xml data</li>
</ul>
<h2><a class="anchor" id="autotoc_md4"></a>
Insert XML data</h2>
<p >There are two ways to insert data. The first way is to use library functions that check the insertion result for validity. The second way is to insert all the data through the source list, without using library functions.</p>
<h3><a class="anchor" id="autotoc_md5"></a>
Insert with checks</h3>
<ol type="1">
<li>This function inserts data before the iterator, checks the validity of the resulting list. If the data is not valid, the function will delete the inserted data and return false. <div class="fragment"><div class="line">for (auto it = p.GetData().begin(); it != p.GetData().end(); it++)</div>
<div class="line">{</div>
<div class="line">    if (it-&gt;TagName == &quot;tagA&quot; &amp;&amp; it-&gt;DataType == xmlp::closingTag)</div>
<div class="line">        p.InsertData(it, {&quot;&lt;correctData&gt; Correct text &lt;/correctData&gt;&quot;});           </div>
<div class="line">}</div>
</div><!-- fragment --></li>
<li>This function allows you to insert data into 2 places at once and performs a validation check. If the data is not valid, the function will delete the inserted data and return false. For the function to work, you need to find two iterators before which data will be inserted <div class="fragment"><div class="line">std::list&lt;xmlp::XmlData&gt;::iterator beg, end;</div>
<div class="line"> </div>
<div class="line">for (auto it = p.GetData().begin(); it != p.GetData().end(); it++)</div>
<div class="line">{</div>
<div class="line">    if (it-&gt;TagName == &quot;tagC&quot; &amp;&amp; it-&gt;DataType == xmlp::openingTag)</div>
<div class="line">    {</div>
<div class="line">        beg = ++it;</div>
<div class="line">        it--;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if (it-&gt;TagName == &quot;tagC&quot; &amp;&amp; it-&gt;DataType == xmlp::closingTag)</div>
<div class="line">        end = it;         </div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">p.InsertData(beg, end, {&quot;&lt;addingTag&gt;&quot;}, {&quot;&lt;/addingTag&gt;&quot;});</div>
</div><!-- fragment --></li>
</ol>
<h3><a class="anchor" id="autotoc_md6"></a>
Insert without checks</h3>
<p >You can use standart std::list functions </p><div class="fragment"><div class="line">p.GetData().insert();</div>
<div class="line">p.GetData().push_back((xmlp::XmlData)&quot;&lt;data&gt;&quot;);</div>
<div class="line">p.GetData().push_front((xmlp::XmlData)&quot;&lt;/data&gt;&quot;);</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Save xml data to file</h2>
<p >To save data to a file, use the function. Parametr is file name. Note that the structure of line breaks in the source file is not preserved </p><div class="fragment"><div class="line">p.WriteDataToFile(&quot;bin/1.xml&quot;);</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md8"></a>
Saving RAM</h1>
<p >By default, the validator saves the tag path, but if your file is very large and has a complex structure with long paths, saving the path may take up too much RAM. This is because the path stores the names of the previous tags. This is done for ease of operation, but saving the tag path can be disabled. Then the definition of the tag path will need to be written manually and tracked when moving through the list. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4 </li>
  </ul>
</div>
</body>
</html>
